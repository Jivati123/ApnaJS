<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h2>CallBack Hell</h2>
    <!-- 
    <script>
        function getData(dataID, getNextData) {
            setTimeout(() => {
                console.log("data", dataID);
                if (getNextData) {
                    getNextData();
                }
            }, 2000);
        }


        // CallBack Hell

        getData(1, () => {
            getData(2, () => {
                getData(3, () => {
                    console.log("All data fetched");
                });
            });
        });

    </script> -->


    <script>


        function getData(dataID) {
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    console.log("data", dataID);
                    resolve("success");
                }, 2000);
            });
        }

        // //OLD PROMISE STYLE (Still Nested):

        // getData(1).then((res) => {
        //     console.log(res);
        //     getData(2).then((res) => {
        //         console.log(res);
        //         getData(3).then((res) => {
        //             console.log(res);
        //         });
        //     });
        // });

        // PROMISE CHAIN (NEW)

        getData(1)
            .then((res) => {
                return getData(2)
            })
            .then((res) => {
                return getData(3)
            })
            .then((res) => {
                console.log(res);
            });

    </script>

    <!-- ---------------------------------------------------  -->
    <!-- <script>

        //setTimeout requires two arguments:
        //A function to run
        //A delay in milliseconds
        //The function should be passed inside setTimeout() as an argument, not written like a normal function block.

        console.log("starting the function here!!");

        setTimeout(() => {
            console.log("Here we add the first function");

            setTimeout(() => {
                console.log("we have added the 2nd function here!!!");

                setTimeout(() => {
                    console.log("we have added a 3rd function here!!");
                }, 1000);
            }, 1000);
        }, 1000);

    </script> -->
</body>

</html>